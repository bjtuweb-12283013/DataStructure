(function(){function M(G){return document.getElementById(G)}function H(b){var G=window["BD_PS_C"+(new Date()).getTime()]=new Image();G.src="http://nsclick.baidu.com/v.gif?pid=201&pj=shouxie&type="+b+(arguments[1]?"&costTime="+arguments[1]:"")+"&t="+new Date().getTime()}var R=navigator.userAgent.indexOf("MSIE")!=-1&&!window.opera;function T(c,b,G){if(window.attachEvent){c.attachEvent("on"+b,G)}else{if(window.addEventListener){c.addEventListener(b,G,false)}}}var Q=false;var K;var D=M(bdimeHW.submit);var N=M(bdimeHW.input);var J=M("loadingClose");function Z(G){var d={},b=document.f;var c=function(g){var e=document.documentElement,f=document.body,j=0,i=0;if(g.getBoundingClientRect){var l=e.clientTop||f.clientTop||0;var k=e.clientLeft||f.clientLeft||0;var h=g.getBoundingClientRect();i=h.top+(window.pageYOffset||e&&e.scrollTop||f.scrollTop)-l;j=h.left+(window.pageXOffset||e&&e.scrollLeft||f.scrollLeft)-k}else{j=g.offsetLeft}return{x:j,y:i}};if(G.getBoundingClientRect){d={x:c(G).x-c(b).x,y:G.offsetHeight+c(G).y-c(b).y-1};return d}else{d={x:c(G).x,y:G.offsetHeight+G.offsetTop-1};return d}}var F=Z(D);function X(G){G.style.left=-1000+"em";G.style.top=-1000+"em"}function Y(G){G.style.left=F.x+"px";G.style.top=F.y+"px"}function V(b){if(R){var c=document.createStyleSheet();c.cssText=b}else{var G=document.createElement("style");G.type="text/css";G.appendChild(document.createTextNode(b));document.getElementsByTagName("HEAD")[0].appendChild(G)}}(function(){var b=[];b.push("#hwr_div,#loading{width:304px;font-size:12px;text-align:center;left:"+F.x+"px;top:"+(F.y)+"px;position:absolute;}");b.push("#loading{height:239px; border:1px solid #acb5d6;color:#333}");b.push("#loading p{background:#f4f5fa; height:18px; position:relative;padding: 7px 0 0 7px;text-align:left;border-bottom:1px solid #acb5d6;color:#000;margin:0 0 90px 0;}");b.push("#loading p img{ position:absolute;right:0; top:0; cursor:pointer;}");b.push("#hwIndexLink{position:absolute;height:20px;width:56px;top:5px;left:60px;z-index:13;background:url(about:blank)}");b.push("#hwIndexLink a{height:20px;width:56px;display:block;}");V(b.join(""));var d=document.createDocumentFragment();var c=document.createElement("div");c.setAttribute("id","hwr_div");var G=document.createElement("div");G.setAttribute("id","loading");G.innerHTML='<p>手写输入<img id="loadingClose"  src="http://www.baidu.com/hw/sx_close.gif"/></p><div>手写输入法载入中....';d.appendChild(c);d.appendChild(G);D.parentNode.appendChild(d);X(c);X(G)})();var a=M("loading");var W=M("hwr_div");var J=M("loadingClose");var C=(function(){var h=navigator;if(h.plugins&&h.mimeTypes.length){var d=h.plugins["Shockwave Flash"];if(d&&d.description){return d.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0"}}else{if(window.ActiveXObject&&!window.opera){for(var b=10;b>=2;b--){try{var g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+b);if(g){var G=g.GetVariable("\x24version");return G.replace(/WIN/g,"").replace(/,/g,".")}}catch(f){}}}}})();(function(){if(typeof (C)=="undefined"){var G=a.getElementsByTagName("div")[0];G.innerHTML="对不起，请您先安装flash播放器"}})();function I(){K=new Date();Y(a);Y(W);if(R){W.innerHTML='<div id="hwIndexLink"><a target="_blank" onfocus="this.blur()" href="http://www.hw99.com/"></a></div><object width="304" height="239" align="middle" id="hwflash" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"><param name="wmode" value="Opaque"><param value="always" name="allowscriptaccess"><param value="http://www.baidu.com/hw/main_1.1.swf" name="movie"></object>'}else{var G=/Chrome/i.test(navigator.userAgent)?'wmode="window"':'wmode="Opaque"';W.innerHTML='<div id="hwIndexLink"><a target="_blank" onfocus="this.blur()" href="http://www.hw99.com/"></a></div><embed width="304" height="239" align="middle" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" name="hwflash" src="http://www.baidu.com/hw/main_1.1.swf" '+G+'    allowscriptaccess="always" ver="9.0.0">'}}function B(G){return document[G]||window[G]}var P=false;var S=false;bdimeHW.ready=function(){var G=new Date().getTime()-K.getTime();H("flashLoadTime",G);Q=true;S=true;X(a)};bdimeHW.close=function(){if(!Q){X(a);X(W);return }if(S){var G=hasWrite();if(G&&!P){H("noSelectCharClose")}else{if(!G){H("noActionClose")}}P=false;O();if(/Chrome/i.test(navigator.userAgent)){var b=setTimeout(function(){X(W);b=null},10)}else{X(W)}S=false}};bdimeHW.charSelect=function(h,b){var e=h;var g=document;if(b){H("lxz")}if(g.selection&&bdimeHW.hasF){N.focus();var c=document.selection.createRange();c.text=e;c.collapse();c.select()}else{if(!g.selection&&(N.selectionStart||N.selectionStart>-1)&&bdimeHW.hasF){var f=N.selectionStart;var G=N.selectionEnd;var i=N.value;N.value=i.substring(0,f)+e+i.substring(G,i.length);N.selectionStart=f+e.length;N.selectionEnd=f+e.length;if(navigator.userAgent.indexOf("Firefox")!=-1){N.focus()}else{N.blur()}}else{var j=N.value;N.focus();N.value=j+e}}P=true};bdimeHW.reWrite=function(){H("reWrite")};function O(){B("hwflash").clear()}hasWrite=function(){return B("hwflash").hasInput()};function U(){S=true;Y(W);H("clikeHwLink")}bdimeHW.reload=function(G){if(G){U();T(M("imeS"),"click",E)}};function A(G){var G=G||w.event;if(G.keyCode&&(G.keyCode==37||G.keyCode==38||G.keyCode==39||G.keyCode==40||G.keyCode==8||G.keyCode==46||G.keyCode==32)){return }else{bdimeHW.close()}}T(M("imeS"),"click",E);function E(G){if(!Q){a.style.left.indexOf("-1000em")!=-1?Y(a):X(a);W.style.left.indexOf("-1000em")!=-1?Y(W):X(W);N.focus();return }if(S){bdimeHW.close()}else{U()}}function L(b){var b=b||window.event;var G=b.target||b.srcElement;while(G&&G!=document.body&&G.tagName.toLowerCase()!="html"){if(G==M("imeS")||G==M("loading")||G==M("hwr_div")||G==N||G==M("mMenu")){return }if(G==M("mCon")){bdimeHW.close();return }G=G.parentNode}bdimeHW.hasF=0;bdimeHW.close()}I();H("clikeHwLink");T(J,"click",function(){X(a);X(W)});T(document,"click",L);T(N,"keydown",A);T(N,"mousedown",function(){bdimeHW.hasF=1})})();